{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nasync function fetchImage({\n  urlBase,\n  apiKey,\n  searchExpression,\n  type,\n  orientation,\n  safesearch,\n}) {\n  const response = await axios.get(urlBase, {\n    params: {\n      key: apiKey,\n      q: searchExpression,\n      image_type: type,\n      orientation: orientation,\n      safesearch: safesearch,\n    },\n  });\n  return response.data;\n}\n\nexport default fetchImage;\n","function renderGaleryImg(gallery) {\n  console.log(gallery);\n  return gallery\n    .map(item => {\n      return `<li class=\"gallery-item\">\n      <a href=\"${item.largeImageURL}\" class=\"gallery-link\">\n        <img class=\"gallery-image\" src=\"${item.webformatURL}\" alt=\"${item.tags}\" data-source=\"${item.largeImageURL}\"  height=\"${item.webformatHeight}\" width=\"${item.webformatWidth}\"/>\n      </a> \n      <ul class=\"sublist\">\n            <li class=\"sublist-item\">\n                <p class=\"sublist-title\">Likes</p>\n                <p class=\"sublist-text\">${item.likes}</p>\n             </li>\n            <li class=\"sublist-item\">\n                <p class=\"sublist-title\">Viewes</p>\n                <p class=\"sublist-text\">${item.views}</p>\n             </li>\n             <li class=\"sublist-item\">\n                <p class=\"sublist-title\">Comments</p>\n                <p class=\"sublist-text\">${item.comments}</p>\n            </li>\n             <li class=\"sublist-item\">\n                <p class=\"sublist-title\">Download</p>\n                <p class=\"sublist-text\">${item.downloads}</p>\n            </li>\n        </ul>       \n      </li>`;\n    })\n    .join('');\n}\nexport default renderGaleryImg;\n","import fetchImage from './js/pixabay-api.js';\nimport renderGaleryImg from './js/render-functions.js';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst parametersObject = {\n  urlBase: 'https://pixabay.com/api/',\n  apiKey: '48839660-7b8b283c3689698998fc631e5',\n  searchExpression: null,\n  type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\n\nclass MessageAlert {\n  constructor(title, message, position, timeout, transitionIn, transitionOut) {\n    this.title = title;\n    this.message = message;\n    this.position = position;\n    this.timeout = timeout;\n    this.transitionIn = transitionIn;\n    this.transitionOut = transitionOut;\n  }\n  error() {\n    iziToast.error({\n      title: this.title,\n      message: this.message,\n      position: this.position,\n      timeout: this.timeout,\n      transitionIn: this.transitionIn,\n      transitionOut: this.transitionOut,\n    });\n  }\n  info() {\n    iziToast.info({\n      title: this.title,\n      message: this.message,\n      position: this.position,\n      timeout: this.timeout,\n      transitionIn: this.transitionIn,\n      transitionOut: this.transitionOut,\n    });\n  }\n}\nclass ErrorAlert extends MessageAlert {\n  constructor(message) {\n    super('Error', message, 'topRight', 5000, 'fadeInDown', 'fadeOutUp');\n  }\n}\nclass InfoAlert extends MessageAlert {\n  constructor(message) {\n    super('info', message, 'topRight', 5000, 'blue', 'fadeInDown', 'fadeOutUp');\n  }\n}\nconst errorAlertInstance = new ErrorAlert(\n  'Sorry, there are no images matching your search query. Please try again!'\n);\n\nconst imgList = document.querySelector('.gallery');\nconst searchForm = document.querySelector('.form');\n\nsearchForm.addEventListener('submit', async e => {\n  e.preventDefault();\n  const searchExpression = searchInputExpretion();\n  if (!searchExpression) {\n    return;\n  }\n  parametersObject.searchExpression = searchInputExpretion();\n  try {\n    const gallery = await fetchImage(parametersObject);\n    if (gallery.hits.length === 0) {\n      errorAlertInstance.error();\n    }\n    imgList.insertAdjacentHTML('beforeend', renderGaleryImg(gallery.hits));\n    galleryInner.refresh();\n  } catch (error) {\n    console.log(error);\n  }\n  searchForm.reset();\n});\n\nfunction searchInputExpretion() {\n  const searchInput = document.querySelector('.js-form-input');\n  const searchData = searchInput.value;\n  const isLetters = /^[a-zA-Zа-яА-ЯёЁіІїЇєЄ]*$/;\n  if (searchData === '') {\n    const InfoAlertInstans = new InfoAlert('Please enter a search term');\n    InfoAlertInstans.info();\n\n    return;\n  } else if (!isLetters.test(searchData)) {\n    const InfoAlertInstans = new InfoAlert('Please enter letters only.');\n    InfoAlertInstans.info();\n    return;\n  }\n  console.log('searchData', searchData);\n  return searchData;\n}\n\nconst galleryInner = new SimpleLightbox('.gallery a', {\n  animationSpeed: 300,\n  animationSlide: true,\n  captionDelay: 250,\n  overlay: true,\n  overlayOpacity: 0.8,\n});\n\ngalleryInner.on('shown.simplelightbox', () => {\n  const lightboxContainer = document.querySelector('.simple-lightbox');\n  const slClouse = lightboxContainer.firstElementChild;\n  if (!lightboxContainer) return;\n  const slNavigationBtn = document.querySelectorAll('.sl-navigation button');\n  const slCounter = document.querySelector('.sl-counter');\n\n  Object.assign(slClouse.style, lightboxStyle.slClouse);\n  slNavigationBtn.forEach(item => {\n    Object.assign(item.style, lightboxStyle.slNavigationBtn);\n    item.className === 'sl-prev'\n      ? Object.assign(item.style, lightboxStyle.slPrev)\n      : null;\n    item.className === 'sl-next'\n      ? Object.assign(item.style, lightboxStyle.slNext)\n      : null;\n  });\n  Object.assign(slCounter.style, lightboxStyle.slCounter);\n});\n"],"names":["fetchImage","urlBase","apiKey","searchExpression","type","orientation","safesearch","axios","renderGaleryImg","gallery","item","parametersObject","MessageAlert","title","message","position","timeout","transitionIn","transitionOut","iziToast","ErrorAlert","InfoAlert","errorAlertInstance","imgList","searchForm","e","searchInputExpretion","galleryInner","error","searchData","isLetters","SimpleLightbox","lightboxContainer","slClouse","slNavigationBtn","slCounter"],"mappings":"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"}