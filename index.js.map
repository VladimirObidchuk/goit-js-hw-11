{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nasync function fetchImage({\n  urlBase,\n  apiKey,\n  searchExpression,\n  type,\n  orientation,\n  safesearch,\n}) {\n  const response = await axios.get(urlBase, {\n    params: {\n      key: apiKey,\n      q: searchExpression,\n      image_type: type,\n      orientation: orientation,\n      safesearch: safesearch,\n    },\n  });\n  return response.data;\n}\n\nexport default fetchImage;\n","function renderGaleryImg(gallery) {\n  return gallery\n    .map(item => {\n      return `<li class=\"gallery-item\">\n      <a href=\"${item.largeImageURL}\" class=\"gallery-link\">\n        <img class=\"gallery-image\" src=\"${item.webformatURL}\" alt=\"${item.tags}\" data-source=\"${item.tags}\"\n        data-title=\"${item.tags}\"  height=\"255\" width=\"430\"/>\n      </a> \n          <ul class=\"sublist\">\n        <li class=\"sublist-item\">\n            <p class=\"sublist-title\">Likes</p>\n            <p class=\"sublist-text\">${item.likes}</p>\n         </li>\n        <li class=\"sublist-item\">\n            <p class=\"sublist-title\">Viewes</p>\n            <p class=\"sublist-text\">${item.views}</p>\n         </li>\n         <li class=\"sublist-item\">\n            <p class=\"sublist-title\">Comments</p>\n            <p class=\"sublist-text\">${item.comments}</p>\n        </li>\n         <li class=\"sublist-item\">\n            <p class=\"sublist-title\">Download</p>\n            <p class=\"sublist-text\">${item.downloads}</p>\n        </li>\n    </ul>\n      </li>`;\n    })\n    .join('');\n}\nexport default renderGaleryImg;\n\n//   <ul class=\"sublist\">\n//         <li class=\"sublist-item\">\n//             <p class=\"sublist-title\">Likes</p>\n//             <p class=\"sublist-text\">${item.likes}</p>\n//          </li>\n//         <li class=\"sublist-item\">\n//             <p class=\"sublist-title\">Viewes</p>\n//             <p class=\"sublist-text\">${item.views}</p>\n//          </li>\n//          <li class=\"sublist-item\">\n//             <p class=\"sublist-title\">Comments</p>\n//             <p class=\"sublist-text\">${item.comments}</p>\n//         </li>\n//          <li class=\"sublist-item\">\n//             <p class=\"sublist-title\">Download</p>\n//             <p class=\"sublist-text\">${item.downloads}</p>\n//         </li>\n//     </ul>\n","import fetchImage from './js/pixabay-api.js';\nimport renderGaleryImg from './js/render-functions.js';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst parametersObject = {\n  urlBase: 'https://pixabay.com/api/',\n  apiKey: import.meta.env.VITE_API_KEY,\n  searchExpression: null,\n  type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\n\nclass MessageAlert {\n  constructor(title, message, position, timeout, transitionIn, transitionOut) {\n    this.title = title;\n    this.message = message;\n    this.position = position;\n    this.timeout = timeout;\n    this.transitionIn = transitionIn;\n    this.transitionOut = transitionOut;\n  }\n  error() {\n    iziToast.error({\n      title: this.title,\n      message: this.message,\n      position: this.position,\n      timeout: this.timeout,\n      transitionIn: this.transitionIn,\n      transitionOut: this.transitionOut,\n    });\n  }\n  info() {\n    iziToast.info({\n      title: this.title,\n      message: this.message,\n      position: this.position,\n      timeout: this.timeout,\n      transitionIn: this.transitionIn,\n      transitionOut: this.transitionOut,\n    });\n  }\n}\nclass ErrorAlert extends MessageAlert {\n  constructor(message) {\n    super('Error', message, 'topRight', 5000, 'fadeInDown', 'fadeOutUp');\n  }\n}\nclass InfoAlert extends MessageAlert {\n  constructor(message) {\n    super('info', message, 'topRight', 5000, 'blue', 'fadeInDown', 'fadeOutUp');\n  }\n}\nconst errorAlertInstance = new ErrorAlert(\n  'Sorry, there are no images matching your search query. Please try again!'\n);\n\nconst imgList = document.querySelector('.gallery');\nconst searchForm = document.querySelector('.form');\nconst loader = document.querySelector('.loader');\n\nsearchForm.addEventListener('submit', e => {\n  e.preventDefault();\n  const searchExpression = searchInputExpretion();\n  if (!searchExpression) {\n    return;\n  }\n  parametersObject.searchExpression = searchExpression;\n  loader.style.display = 'inline-block';\n  fetchImage(parametersObject)\n    .then(gallery => {\n      if (gallery.hits.length === 0) {\n        errorAlertInstance.error();\n      }\n      imgList.innerHTML = renderGaleryImg(gallery.hits);\n      const galleryInner = new SimpleLightbox('.gallery a', {\n        captions: true,\n        captionsData: 'alt',\n        captionDelay: 250,\n        animationSpeed: 300,\n        animationSlide: true,\n        overlay: true,\n        overlayOpacity: 0.8,\n      });\n      galleryInner.on('shown.simplelightbox', () => {\n        const lightboxContainer = document.querySelector('.simple-lightbox');\n        if (!lightboxContainer) return;\n      });\n      galleryInner.refresh();\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      loader.style.display = 'none';\n    });\n  searchForm.reset();\n});\n\nfunction searchInputExpretion() {\n  const searchInput = document.querySelector('.js-form-input');\n  const searchData = searchInput.value.replace(/\\d+/g, '').replace(/ /g, '+');\n\n  if (searchData === '') {\n    const InfoAlertInstans = new InfoAlert('Please enter a search term');\n    InfoAlertInstans.info();\n    return;\n  }\n  return searchData;\n}\n"],"names":["fetchImage","urlBase","apiKey","searchExpression","type","orientation","safesearch","axios","renderGaleryImg","gallery","item","parametersObject","MessageAlert","title","message","position","timeout","transitionIn","transitionOut","iziToast","ErrorAlert","InfoAlert","errorAlertInstance","imgList","searchForm","loader","e","searchInputExpretion","galleryInner","SimpleLightbox","error","searchData"],"mappings":"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"}